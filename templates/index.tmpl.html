<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-48562941-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48562941-4');
</script>
<title>unixtime変換サービス</title>
<meta content="UNIX時間と日本標準時を相互変換します" name="description">
<link rel="shortcut icon" href="static/favicon.png">
<style>
body {}
.container {
  width:60%;
  margin: 0 auto;
}
.cp_iptxt {
	position: relative;
	width: 70%;
        margin: 0 auto;
}
.cp_iptxt input[type='text'] {
	font: 15px/40px sans-serif;
	box-sizing: border-box;
	width: 100%;
	padding: 0.3em;
	transition: 0.3s;
	letter-spacing: 1px;
	color: #aaaaaa;
	border: none;
	border-bottom: 2px solid #1b2538;
	background: transparent;
}
.ef input[type='text']:focus {
	border-bottom: 2px solid #999999;
	outline: none;
}
.out {
	position: relative;
	width: 70%;
        margin: 20 auto;
}
.out input[type='text'] {
	font: 15px/24px sans-serif;
	width: 100%;
	padding: 0.3em;
	transition: 0.3s;
	letter-spacing: 1px;
	border: none;
	border-bottom: 2px solid #999999;
}
#ou2 {
	font: 15px/24px sans-serif;
	box-sizing: border-box;
	width: 100%;
	padding: 0.3em;
	transition: 0.3s;
	letter-spacing: 1px;
	color: #aaaaaa;
	border: none;
	border-bottom: 1px solid #999999;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/locale/ja.js"></script>
</head>
<body>
<div class="container">
<h1>unixtime変換サービス</h1>
<hr>
<div>
<p>UNIX時間と日本標準時を相互変換します</P>
<div class="cp_iptxt">
<label class="ef">
<input type="text" id="it" placeholder="unixtimeか時間のどちらかを入力してください">
</label>
</div>
<div class="out">
<input type="text" id="ou"></br>
<input type="text" id="oj"></br>
</label>
</div>
</div>
</div>
<script>
$(function() {
  console.log('aaa');
  var now_jpn = moment();
  function show () {
    $('#ou').val(now_jpn.unix());
    $('#oj').val(now_jpn.format());
  }
  show();

  $('#it').change(function() {
    var val = $(this).val();
    if(!val) {
      return;
    }
    if(val.length==10){
      var um = moment(val+"000", "x");
      if(!um) return;
      now_jpn = um;
      show();
      return;
    } else if(val.length==13){
      var um = moment(val, "X");
      if(!um) return;
      now_jpn = um;
      show();
      return;
    } else {
      if(!moment(val).isValid()) {
        return;
      }
    }
    console.log(val);
    now_jpn = moment(val);
    console.log(now_jpn);
    show();
  });
});
</script>
</body>
</html>
