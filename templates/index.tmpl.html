<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-48562941-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48562941-4');
</script>
<title>unixtime変換サービス</title>
<meta content="UNIX時間と日本標準時を相互変換します" name="description">
<link rel="shortcut icon" href="static/favicon.png">
<style>
body {}
.container {
  width:60%;
  margin: 0 auto;
}
.cp_iptxt {
	position: relative;
	width: 70%;
        margin: 30px auto;
}
.cp_iptxt input[type='text'] {
	font: 15px/36px sans-serif;
	box-sizing: border-box;
	width: 100%;
	padding: 0.3em;
	transition: 0.3s;
	letter-spacing: 1px;
	color: #aaaaaa;
	border: none;
	border-bottom: 2px solid #1b2538;
	background: transparent;
}
.ef input[type='text']:focus {
	border-bottom: 2px solid #999999;
	outline: none;
}
.out {
	position: relative;
	width: 70%;
        margin: 20px auto;
}
.out input[type='text'] {
	font: 15px/36px sans-serif;
	width: 100%;
	padding: 0.3em;
	transition: 0.3s;
	letter-spacing: 1px;
	border: none;
	/* border-bottom: 2px solid #999999; */
}
table {
  width: 100%;
}
.col1 {
  padding: 0 5px;
  border: none;
  border-bottom: 2px solid #999999;
}
.col2 {
  padding: 0 5px;
  border: none;
  border-bottom: 2px solid #999999;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/locale/ja.js"></script>
</head>
<body>
<div class="container">
<h1>unixtime変換サービス</h1>
<hr>
<div>
<p>UNIX時間と日本標準時を相互変換します</P>
<div class="cp_iptxt">
<label class="ef">
<input type="text" id="it" placeholder="unixtimeか時間のどちらかを入力してください ex) 1575891619">
</div>
<div class="out">
<table>
<tr>
<td class="col1">unixtime</td>
<td class="col2"><input type="text" id="ou"></td>
</tr>
<tr>
<td class="col1">ISO 8601</td>
<td class="col2"><input type="text" id="oj"></td>
</tr>
<tr>
<td class="col1">RFC 2822</td>
<td class="col2"><input type="text" id="or"></td>
</tr>
</table>
</div>
</div>
</div>
<script>
$(function() {
  function show(val) {
    $('#ou').val(val.unix());
    $('#oj').val(val.format());
    $('#or').val(val);
  }
  function convert(val) {
    if(!val) return null;
    var m = null;
    if(val.length==10){
      m = moment(val+"000", "x");
    } else if(val.length==13){
      m = moment(val, "X");
    } else {
      m = moment(val);
    }
    if(!m.isValid()) return null;
    return m;
  }

  show(moment());

  $('#it').change(function() {
    var m = convert($(this).val());
    if (!m) return;
    show(m);
  });
  $('#ou').change(function() {
    var val = $(this).val();
    var m = convert(val);
    if(!m) return;
    $('#it').val(val);
    show(m);
  });
  $('#oj').change(function() {
    var val = $(this).val();
    var m = convert(val);
    if(!m) return;
    $('#it').val(val);
    show(m);
  });
  $('#or').change(function() {
    var val = $(this).val();
    var m = convert(val);
    if(!m) return;
    $('#it').val(val);
    show(m);
  });
});
</script>
</body>
</html>
